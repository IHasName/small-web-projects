/* 
 * Perspective Elements by LikeWhat (https://github.com/IHasName)
 * Project Page: https://github.com/IHasName/small-web-projects/tree/master/perspective-elements
 */
"use strict";var perspectivejs=function(){var t=function(t){var e=this;e.settings={autoInit:!0,transition_duration:150,max_tilt:20,max_brightness:1.3,easing:"ease",perspective:"800px",disableLoaded:!1},extendObj(e.settings,t),e.updateEvery=e.settings.transition_duration/10,e.settings.autoInit&&e.waitThenInit()};return t.prototype.waitThenInit=function(){document.addEventListener("DOMContentLoaded",this.init())},t.prototype.init=function(){var t=this;t.elements=document.querySelectorAll(".perspective"),t.elements.forEach((e=>{e.innerHTML='<div class="perspective-object" id="'+e.getAttribute("pjs-container-id")+'" style="transform: perspective(0);transition:none">'+e.innerHTML+"</div>",e.addEventListener("mousemove",(function(e){t.update(e,this)})),e.addEventListener("mouseleave",(function(e){var i=this.querySelector(".perspective-object");i.style.transition="all "+t.getValue(this,"transition_duration")/1e3+"s "+t.getValue(this,"easing"),i.style.transform="perspective(0)",i.style.filter="",i.updateCount=0})),e.addEventListener("mouseenter",(function(e){var i=this.querySelector(".perspective-object");i.style.transition="all "+t.getValue(this,"transition_duration")/1e3+"s "+t.getValue(this,"easing"),i.updateCount=0,t.update(e,this,1)}))})),t.settings.disableLoaded||console.log("PerspectiveElementsJS loaded")},t.prototype.update=function(t,e,i){var n=this,s=e.querySelector(".perspective-object");if(++s.updateCount>n.updateEvery||i){s.updateCount=0;for(var a=e.scrollWidth/2,r=e.scrollHeight/2,o=0,u=0,l=e;l.offsetParent;)o+=l.offsetTop,u+=l.offsetLeft,l=l.offsetParent;var p=Math.max(t.pageY,o)-Math.min(t.pageY,o)-r,d=Math.max(t.pageX,u)-Math.min(t.pageX,u)-a,g=n.getValue(e,"max_tilt")/a,c=n.getValue(e,"max_tilt")/r,v=d*g*(n.getValue(e,"invert")?-1:1),f=p*c*(n.getValue(e,"invert")?-1:1);if(n.getValue(e,"max_brightness")>0){var h=(n.getValue(e,"max_brightness")-1)/n.getValue(e,"max_tilt"),m=Math.max(1+h*-f,0);s.style.filter="brightness("+m+")"}s.style.transform="perspective("+n.getValue(e,"perspective")+") rotateX("+-f+"deg) rotateY("+v+"deg)"}},t.prototype.getValue=function(t,e){return null!=t.getAttribute("pjs-"+e)?"true"==t.getAttribute("pjs-"+e)||"false"==t.getAttribute("pjs-"+e)?"true"==t.getAttribute("pjs-"+e):t.getAttribute("pjs-"+e):this.settings[e]},t}();function extendObj(t,e){if(void 0!==e)for(var i in e)null!=e[i]&&(t[i]=e[i])}